/*
 2015 Rubchuk Vladimir
 @license   GPLv3
 @version   0.91

 Usage example :

   new KellyColorPicker({place : 'color-picker'});

*/
function KellyColorPicker(ba){function ca(){var a={};a.size;a.padding=2;a.path;a.imageData=null;a.dotToSv=function(a){return{s:Math.abs(this.path[3].x-a.x)/this.size,v:Math.abs(this.path[3].y-a.y)/this.size}};a.svToDot=function(a){var c=this.path[0].x,g=this.path[0].y,b=.02;100>u&&(b=.07);for(var d=0;d<this.size;d++)for(var l=0;l<this.size;l++){var h={x:l+c,y:d+g},f=this.dotToSv(h),m=Math.abs(f.s-a.s),f=Math.abs(f.v-a.v);if(m<b&&f<b)return h}return{x:0,y:0}};a.limitDotPosition=function(a){var c=a.x;
a=a.y;c<this.path[0].x&&(c=this.path[0].x);c>this.path[0].x+this.size&&(c=this.path[0].x+this.size);a<this.path[0].y&&(a=this.path[0].y);a>this.path[0].y+this.size&&(a=this.path[0].y+this.size);return{x:c,y:a}};a.draw=function(){this.imageData||(this.imageData=b.createImageData(this.size,this.size));for(var a=0,c=this.path[0].x,g=this.path[0].y,R=0;R<this.size;R++)for(var d=0;d<this.size;d++){var l=this.dotToSv({x:d+c,y:R+g}),l=M(f.h,l.s,l.v);this.imageData.data[a+0]=l.r;this.imageData.data[a+1]=
l.g;this.imageData.data[a+2]=l.b;this.imageData.data[a+3]=255;a+=4}b.putImageData(this.imageData,c,g);b.beginPath();b.strokeStyle="rgba(0,0,0, 0.2)";b.lineWidth=2;for(a=0;a<=this.path.length-1;++a)0==a?b.moveTo(this.path[a].x,this.path[a].y):b.lineTo(this.path[a].x,this.path[a].y);b.stroke();b.closePath()};a.updateSize=function(){this.size=Math.floor((2*d.innerRadius-2*r.paddingX-2*this.padding)/Math.sqrt(2));this.path=[];this.path[0]={x:this.size/2*-1,y:this.size/2*-1};this.path[1]={x:this.path[0].x+
this.size,y:this.path[0].y};this.path[2]={x:this.path[1].x,y:this.path[1].y+this.size};this.path[3]={x:this.path[2].x-this.size,y:this.path[2].y};this.path[4]={x:this.path[0].x,y:this.path[0].y};for(var a=0;a<=this.path.length-1;++a)this.path[a].x+=d.pos.x,this.path[a].y+=d.pos.y};a.isDotIn=function(a){return a.x<this.path[0].x||a.x>this.path[0].x+this.size||a.y<this.path[0].y||a.y>this.path[0].y+this.size?!1:!0};return a}function da(){var a={};a.size;a.padding=2;a.path;a.imageData=null;a.followWheel=
!0;a.s;a.sOnTop=!1;a.outerRadius;a.limitDotPosition=function(a){var c=a.x;a=a.y;var g=this.path[0].x,b=this.path[2].x,d=a,g=Math.min(Math.max(b,c),g),l=(this.path[0].y-this.path[1].y)/(this.path[0].x-this.path[1].x),f=Math.ceil(this.path[1].y+l*(g-this.path[1].x)),l=(this.path[0].y-this.path[2].y)/(this.path[0].x-this.path[2].x),l=Math.floor(this.path[2].y+l*(g-this.path[2].x));c<b&&(d=a);d=Math.min(Math.max(f,d),l);return{x:g,y:d}};a.svToDot=function(a){var c=.02;100>u&&(c=.07);for(var b=0;b<this.size;b++)for(var d=
0;d<this.size;d++){var f={x:this.path[1].x+d,y:this.path[1].y+b};if(v.isDotIn(f)){var l=this.dotToSv(f),h=Math.abs(l.s-a.s),l=Math.abs(l.v-a.v);if(h<c&&l<c)return f}}return{x:0,y:0}};a.draw=function(){this.imageData||(this.imageData=D.createImageData(this.size,this.size));B.width=this.size;B.height=this.size;for(var a=this.path[1].x,c=this.path[1].y,g=0,d=0;d<this.size;d++)for(var h=0;h<this.size;h++){var l={x:this.path[1].x+h,y:this.path[1].y+d};v.isDotIn(l)?(l=this.dotToSv(l),l=M(f.h,l.s,l.v),this.imageData.data[g+
0]=l.r,this.imageData.data[g+1]=l.g,this.imageData.data[g+2]=l.b,this.imageData.data[g+3]=255):(this.imageData.data[g+0]=0,this.imageData.data[g+1]=0,this.imageData.data[g+2]=0,this.imageData.data[g+3]=0);g+=4}D.putImageData(this.imageData,0,0);b.drawImage(B,a,c);b.beginPath();b.strokeStyle="rgba(0, 0, 0, 0.3)";b.lineWidth=2;a=this.path;for(g=0;g<=a.length-1;++g)0==g?b.moveTo(a[g].x,a[g].y):b.lineTo(a[g].x,a[g].y);b.stroke();b.closePath()};a.calcS=function(a){return Math.abs((a[1].x-a[0].x)*(a[2].y-
a[0].y)-(a[2].x-a[0].x)*(a[1].y-a[0].y))/2};a.dotToSv=function(a){var c=this.vol,b=((a.x-c[0].x)*(c[1].x-c[0].x)+(a.y-c[0].y)*(c[1].y-c[0].y))/((c[0].x-c[1].x)*(c[0].x-c[1].x)+(c[0].y-c[1].y)*(c[0].y-c[1].y));0>b&&(b=0);1<b&&(b=1);var d=c[0].y+b*(c[1].y-c[0].y),f=this.vol[0],c=Math.sqrt(Math.pow(c[0].x+b*(c[1].x-c[0].x)-f.x,2)+Math.pow(d-f.y,2));1>c&&(c=Math.floor(c));c>this.h-1&&(c=this.h);c/=this.h;a=Math.abs(U(a,this.sSide));30>a&&(a=30);a=60-(a-30);a/=60;return{s:a,v:c}};a.isDotIn=function(a){a=
[{x:this.path[0].x,y:this.path[0].y},{x:this.path[1].x,y:this.path[1].y},{x:a.x,y:a.y}];var c=this.calcS(a);a[1]={x:this.path[2].x,y:this.path[2].y};c+=this.calcS(a);a[0]={x:this.path[1].x,y:this.path[1].y};c+=this.calcS(a);return Math.ceil(c)==Math.ceil(this.s)?!0:!1};a.updateSize=function(){this.outerRadius=d.innerRadius-r.paddingX-this.padding;this.size=Math.floor(2*this.outerRadius*Math.sin(F/180*60));var a=Math.sqrt(3)/2*this.size;this.h=Math.sqrt(3)/2*this.size;this.path=[];this.path[0]={x:this.outerRadius,
y:0};this.path[1]={x:this.path[0].x-a,y:this.size/2*-1};this.path[2]={x:this.path[1].x,y:this.size/2};this.path[3]={x:this.path[0].x,y:this.path[0].y};for(a=0;a<=this.path.length-1;++a)this.path[a].x+=d.pos.x,this.path[a].y+=d.pos.y;this.vol=[];this.s=this.calcS(this.path);this.sOnTop?(a=V(this.path[0],this.path[2]),this.vol[0]={x:this.path[1].x,y:this.path[1].y},this.vol[1]={x:a.x,y:a.y},this.sSide=this.path[1]):(a=V(this.path[0],this.path[1]),this.vol[0]={x:this.path[2].x,y:this.path[2].y},this.vol[1]=
{x:a.x,y:a.y},this.sSide=this.path[2])};return a}function w(a,e,c){"object"!==typeof a&&(a=document.getElementById(a));if(!a)return!1;J[e]=c;a.addEventListener?a.addEventListener(e,J[e]):a.attachEvent("on"+e,J[e]);return!0}function p(a,e){"object"!==typeof a&&(a=document.getElementById(a));if(!a||!J[e])return!1;a.removeEventListener?a.removeEventListener(e,J[e]):a.detachEvent("on"+e,J[e]);J[e]=null;return!0}function M(a,e,c){var b,d,f,h,m,k;a&&void 0===e&&void 0===c&&(e=a.s,c=a.v,a=a.h);h=Math.floor(6*
a);m=6*a-h;a=c*(1-e);k=c*(1-m*e);e=c*(1-(1-m)*e);switch(h%6){case 0:b=c;d=e;f=a;break;case 1:b=k;d=c;f=a;break;case 2:b=a;d=c;f=e;break;case 3:b=a;d=k;f=c;break;case 4:b=e;d=a;f=c;break;case 5:b=c,d=a,f=k}return{r:Math.floor(255*b),g:Math.floor(255*d),b:Math.floor(255*f)}}function W(a){var e=function(a){a=a.toString(16);return 1===a.length?"0"+a:a};return"#"+e(a.r)+e(a.g)+e(a.b)}function V(a,e){return{x:(a.x+e.x)/2,y:(a.y+e.y)/2}}function U(a,e,c){e||(e={x:0,y:0});a=180*Math.atan2(a.y-e.y,a.x-e.x)/
F;c&&0>a&&(a=360+a);return a}function S(){X=2+r.paddingX;G=!1;d.imageData=null;x=u/2;d.pos={x:x,y:x};d.outerRadius=x-X;d.innerRadius=d.outerRadius-d.width;r.path=[{x:d.innerRadius-r.paddingX,y:-1*r.height},{x:d.outerRadius+r.paddingX,y:-1*r.height},{x:d.outerRadius+r.paddingX,y:r.height},{x:d.innerRadius-r.paddingX,y:r.height},{x:d.innerRadius-r.paddingX,y:-1*r.height}];var a=u;K&&(a+=k.width+2*k.padding);"CANVAS"!=y.tagName&&(y.style.width=a+"px",y.style.height=u+"px");n.width=a;n.height=u;v.updateSize();
K&&k.updateSize()}function N(){if(C)if(m.updateinput)(0,m.updateinput)(h,C);else{var a="rgba("+q.r+", "+q.g+", "+q.b+", "+H.toFixed(2)+")";C.value=1>H&&"mixed"===P?a:"hex"===P||"mixed"===P?E:a;Y&&(C.style.color=.5>f.v?"#FFF":"#000",C.style.background=a)}}function ea(){if(!y)return!1;"CANVAS"!=y.tagName?(n=document.createElement("CANVAS"),y.appendChild(n)):n=y;"undefined"!=typeof window.G_vmlCanvasManager&&(n=window.G_vmlCanvasManager.initElement(n),B=window.G_vmlCanvasManager.initElement(B));return n.getContext&&
n.getContext("2d")?(b=n.getContext("2d"),D=B.getContext("2d"),!0):!1}function Q(){w(n,"mousedown",function(a){h.mouseDownEvent(a)});w(n,"touchstart",function(a){h.mouseDownEvent(a)});w(n,"mouseout",function(a){h.mouseOutEvent(a)});w(window,"touchmove",function(a){h.touchMoveEvent(a)});w(n,"mousemove",function(a){h.mouseMoveRest(a)})}function Z(){p(n,"mousedown");p(n,"touchstart");p(n,"mouseout");p(window,"touchmove");p(n,"mousemove")}function I(a){a=a||window.event;var e,c=document.body.scrollLeft+
document.documentElement.scrollLeft,b=document.body.scrollTop+document.documentElement.scrollTop;a.touches?(e=a.touches[0].clientX+c,a=a.touches[0].clientY+b):(e=a.clientX+c,a=a.clientY+b);var d=n.getBoundingClientRect();e-=d.left+c;a-=d.top+b;return{x:e,y:a}}function fa(){if(!b)return!1;b.clearRect(0,0,n.width,n.height);if(G)return b.putImageData(O,0,0),K&&k.draw(),!0;d.draw();v.draw();K&&k.draw();t||(O=b.getImageData(0,0,u,u),G=!0);return!0}function L(){if(!fa())return!1;var a=360*f.h-d.startAngle;
K&&(b.beginPath(),b.rect(k.pos.x-2,k.padding+k.height*(1-H)-1,k.width+4,2),b.strokeStyle="rgba(0,0,0, 0.8)",b.lineWidth=2,b.stroke(),b.closePath());b.beginPath();var e=r.path,c;c=F/180*a;for(var a=[],g=0;g<=e.length-1;++g)a[g]={x:e[g].x*Math.cos(c)-e[g].y*Math.sin(c),y:e[g].x*Math.sin(c)+e[g].y*Math.cos(c)};for(e=0;e<=a.length-1;++e)a[e].x+=d.pos.x,a[e].y+=d.pos.y,0==e?b.moveTo(a[e].x,a[e].y):b.lineTo(a[e].x,a[e].y);b.strokeStyle="rgba(0,0,0,0.8)";b.lineWidth=r.lineWeight;b.stroke();b.closePath();
b.strokeStyle=.5<f.v&&.5>f.s?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)";b.beginPath();b.lineWidth=2;b.arc(f.x,f.y,aa.radius,0,2*F);b.stroke();b.closePath();return!1}var F=Math.PI,v,aa={radius:4},n=!1,b=!1,T="quad",K=!1,t=!1,z=!0,J=[],m=[],B=document.createElement("canvas"),D=!1,G=!1,O=null,C=!1,Y=!0,P="mixed",y=!1,h=this,X,u=200,x,f,q,E="#000000",H=1,d={width:18,imageData:null};d.innerRadius;d.startAngle=0;d.outerRadius;d.outerStrokeStyle="rgba(0,0,0,0.2)";d.innerStrokeStyle="rgba(0,0,0,0.2)";d.pos;
d.draw=function(){if(this.imageData)b.putImageData(this.imageData,0,0);else{for(var a=this.startAngle,e=0;360>=e;e++){var c=F/180*(e-2),d=F/180*e;b.beginPath();b.moveTo(x,x);b.arc(x,x,this.outerRadius,c,d,!1);b.closePath();c=M(a/360,1,1);b.fillStyle="rgb("+c.r+", "+c.g+", "+c.b+")";b.fill();a++;360<=a&&(a=0)}b.globalCompositeOperation="destination-out";b.beginPath();b.arc(x,x,this.innerRadius,0,2*F);b.fill();b.globalCompositeOperation="source-over";b.strokeStyle=this.innerStrokeStyle;b.lineWidth=
2;b.stroke();b.closePath();b.beginPath();b.arc(x,x,this.outerRadius,0,2*F);b.strokeStyle=this.outerStrokeStyle;b.lineWidth=2;b.stroke();b.closePath();this.imageData=b.getImageData(0,0,u,u)}};d.isDotIn=function(a){return Math.pow(d.pos.x-a.x,2)+Math.pow(d.pos.y-a.y,2)<Math.pow(d.outerRadius,2)&&Math.pow(d.pos.x-a.x,2)+Math.pow(d.pos.y-a.y,2)>Math.pow(d.innerRadius,2)?!0:!1};var r={lineWeight:2,height:4,paddingX:2};r.path;var k={width:18,padding:4,outerStrokeStyle:"rgba(0,0,0,0.2)",innerStrokeStyle:"rgba(0,0,0,0.2)"};
k.height;k.pos;k.updateSize=function(){this.pos={x:u+k.padding,y:k.padding};this.height=u-2*k.padding};k.draw=function(){var a=b.createLinearGradient(0,0,0,this.height);a.addColorStop(0,"rgba("+q.r+","+q.g+","+q.b+",1)");a.addColorStop(1,"rgba("+q.r+","+q.g+","+q.b+",0)");b.beginPath();b.rect(this.pos.x,this.pos.y,this.width,this.height);b.fillStyle="white";b.fill();b.fillStyle=a;b.fill();b.strokeStyle="rgba(0,0,0, 0.2)";b.lineWidth=2;b.stroke();b.closePath()};k.dotToAlpha=function(a){return 1-Math.abs(this.pos.y-
a.y)/this.height};k.alphaToDot=function(a){return{x:0,y:this.height-this.height*a}};k.limitDotPosition=function(a){a=a.y;a<this.pos.y&&(a=this.pos.y);a>this.pos.y+this.height&&(a=this.pos.y+this.height);return{x:this.pos.x,y:a}};k.isDotIn=function(a){return a.x<this.pos.x||a.x>this.pos.x+k.width||a.y<this.pos.y||a.y>this.pos.y+this.height?!1:!0};var A={svCursorData:null,stCursor:null,curType:0,size:16,initSvCursor:function(){if(!n)return!1;var a=document.body;this.curType=1;this.stCursor||(this.stCursor=
a.style.cursor);this.stCursor||(this.stCursor="auto");if(this.svCursorData)return a.style.cursor=this.svCursorData,!0;if(!B)return!1;B.width=this.size;B.height=this.size;D.clearRect(0,0,this.size,this.size);D.strokeStyle="rgba(255, 255, 255, 1)";D.beginPath();D.lineWidth=2;D.arc(this.size/2,this.size/2,this.size/2,0,2*F);D.stroke();D.closePath();var e=A.size,c=B.toDataURL();this.svCursorData="url("+c+") "+e/2+" "+e/2+", auto";if(!this.svCursorData)return!1;a.style.cursor=this.svCursorData;-1===a.style.cursor.indexOf(c)&&
(this.svCursorData="crosshair",a.style.cursor="crosshair");return!0},initStandartCursor:function(){this.stCursor&&(A.curType=0,document.body.style.cursor=this.stCursor)},updateCursor:function(a){KellyColorPicker.cursorLock||(v.isDotIn(a)?A.initSvCursor():A.initStandartCursor())}};this.setHueByDot=function(a){a=U(a,d.pos)+d.startAngle;0>a&&(a=360+a);f.h=a/360;q=M(f.h,f.s,f.v);E=W(q);m.change&&(0,m.change)(h);N();G=!1;L()};this.setColorByHex=function(a){if(a&&a.length&&("#"!=a.charAt(0)&&(a="#"+a),
7==a.length&&a.match(/^#([0-9A-F]){3}$|^#([0-9A-F]){6}$/img)&&(!E||a!=E||!G))){var e=a,e=parseInt("#"==e.charAt(0)?e.slice(1):e,16);q={r:e>>16,g:e>>8&255,b:e&255};E=a;a=q;var c=e=void 0;a&&void 0===e&&void 0===c&&(e=a.g,c=a.b,a=a.r);a/=255;var e=e/255,c=c/255,b=Math.max(a,e,c),d=Math.min(a,e,c),k,l=b-d;if(b==d)k=0;else{switch(b){case a:k=(e-c)/l+(e<c?6:0);break;case e:k=(c-a)/l+2;break;case c:k=(a-e)/l+4}k/=6}f={h:k,s:0==b?0:l/b,v:b};k=v.svToDot(f);f.x=k.x;f.y=k.y;G=!1;L();m.change&&(0,m.change)(h);
N()}};this.setAlphaByDot=function(a){H=k.dotToAlpha(a);m.change&&(0,m.change)(h);N();L()};this.setAlpha=function(a){H=a;N();L()};this.setColorByDot=function(a){var b=v.dotToSv(a);f.s=b.s;f.v=b.v;f.x=a.x;f.y=a.y;1<f.s&&(f.s=1);0>f.s&&(f.s=0);1<f.v&&(f.v=1);0>f.v&&(f.v=0);q=M(f.h,f.s,f.v);E=W(q);m.change&&(0,m.change)(h);N();L()};this.mouseOutEvent=function(a){0<A.curType&&!KellyColorPicker.cursorLock&&A.initStandartCursor()};this.mouseMoveRest=function(a){if(!t&&z){z=!1;var b=I(a);A.updateCursor(b);
requestAnimationFrame(function(){z=!0});m.mousemoverest&&(0,m.mousemoverest)(a,h,b)}};this.touchMoveEvent=function(a){t&&event.preventDefault()};this.mouseDownEvent=function(a){a.preventDefault();var b,c=!1,g=I(a);d.isDotIn(g)?(t="wheel",h.setHueByDot(g),b=function(a){h.wheelMouseMove(a,g)},c=function(a){KellyColorPicker.cursorLock=!1;h.wheelMouseUp(a,g)}):v.isDotIn(g)?(t="sv",h.setColorByDot(g),b=function(a){h.svMouseMove(a,g)},c=function(a){KellyColorPicker.cursorLock=!1;h.svMouseUp(a,g)}):K&&k.isDotIn(g)&&
(t="alpha",h.setAlphaByDot(g),b=function(a){h.alphaMouseMove(a,g)},c=function(a){KellyColorPicker.cursorLock=!1;h.alphaMouseUp(a,g)});b&&c&&(Z(),KellyColorPicker.cursorLock=!0,w(document,"mouseup",c),w(document,"mousemove",b),w(document,"touchend",c),w(document,"touchmove",b))};this.wheelMouseMove=function(a,b){a.preventDefault();if(t&&z){z=!1;var c=I(a);requestAnimationFrame(function(){z=!0});h.setHueByDot(c);m.mousemoveh&&(0,m.mousemoveh)(a,h,c)}};this.wheelMouseUp=function(a,b){a.preventDefault();
if(t){p(document,"mouseup");p(document,"mousemove");p(document,"touchend");p(document,"touchmove");Q();G=t=!1;L();var c=I(a);A.updateCursor(c);m.mouseuph&&(0,m.mouseuph)(a,h,c)}};this.alphaMouseMove=function(a,b){a.preventDefault();if(t&&z){z=!1;var c=I(a),c=k.limitDotPosition(c);requestAnimationFrame(function(){z=!0});h.setAlphaByDot(c);m.mousemovealpha&&(0,m.mousemovealpha)(a,h,c)}};this.alphaMouseUp=function(a,b){a.preventDefault();if(t){p(document,"mouseup");p(document,"mousemove");p(document,
"touchend");p(document,"touchmove");Q();t=!1;var c=I(a);A.updateCursor(c);m.mouseupalpha&&(0,m.mouseupalpha)(a,h,c)}};this.svMouseMove=function(a,b){a.preventDefault();if(t&&z){z=!1;var c=I(a),c=v.limitDotPosition(c);requestAnimationFrame(function(){z=!0});h.setColorByDot(c);m.mousemovesv&&(0,m.mousemovesv)(a,h,c)}};this.svMouseUp=function(a,b){a.preventDefault();if(t){p(document,"mouseup");p(document,"mousemove");p(document,"touchend");p(document,"touchmove");Q();t=!1;var c=I(a);A.updateCursor(c);
m.mouseupsv&&(0,m.mouseupsv)(a,h,c)}};this.addUserEvent=function(a,b){m[a]=b;return!0};this.removeUserEvent=function(a){if(!m[a])return!1;m[a]=null;return!0};this.getCanvas=function(){return b?n:!1};this.getCtx=function(){return b?b:!1};this.getInput=function(){return C};this.getSvFig=function(){return v};this.getSvFigCursor=function(){return aa};this.getWheel=function(){return d};this.getWheelCursor=function(){return r};this.getCurColorHsv=function(){return f};this.getCurColorRgb=function(){return q};
this.getCurColorHex=function(){return E};this.getCurColorRgba=function(){return{r:q.r,g:q.g,b:q.b,a:H}};this.getCurAlpha=function(){return H};this.updateView=function(a){if(!b)return!1;a&&(d.imageData=null,O=v.imageData=null);G=!1;S();L();return!0};this.resize=function(a){if(!b)return!1;if(a==u)return!0;G=!1;d.imageData=null;O=v.imageData=null;u=a;S();h.setColorByHex(E);return!1};this.destroy=function(){0<A.curType&&(KellyColorPicker.cursorLock=!1,A.initStandartCursor());t&&(p(document,"mouseup"),
p(document,"mousemove"),p(document,"touchend"),p(document,"touchmove"),t=!1);d.imageData=null;B=O=v.imageData=null;y&&y.parentNode&&y.parentNode.removeChild(y);Z();h=null};(function(a){var b="",c="";a.input&&"object"!==typeof a.input&&(a.input=document.getElementById(a.input));void 0!==a.alpha&&(H=a.alpha);void 0!==a.alpha_slider&&(K=a.alpha_slider);void 0!==a.input_color&&(Y=a.input_color);void 0!==a.input_format&&(P=a.input_format);if(a.input){C=a.input;var d=function(a){a=a||window.event;a.target||
(a.target=a.srcElement);h.setColorByHex(a.target.value)};w(C,"click",d);w(C,"change",d);w(C,"keyup",d);w(C,"keypress",d)}a.userEvents&&(m=a.userEvents);a.place&&"object"!==typeof a.place&&(c=a.place,a.place=document.getElementById(a.place));a.place?y=a.place:b+='| "place" ('+c+") not not found";a.size&&0<a.size&&(u=a.size);a.color&&(E=a.color);!a.method||"triangle"!=a.method&&"quad"!=a.method||(T=a.method);ea()||(b+=" | cant init canvas context");"quad"==T&&(v=ca());"triangle"==T&&(v=da());b?"undefined"!==
typeof console&&console.log("KellyColorPicker : "+b):Q();S();h.setColorByHex(E)})(ba)}KellyColorPicker.cursorLock=!1;
